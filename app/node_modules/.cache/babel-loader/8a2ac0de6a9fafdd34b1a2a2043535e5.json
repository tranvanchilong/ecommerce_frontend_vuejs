{"remainingRequest":"E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\babel-loader\\lib\\index.js!E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\django\\ecommerce_fronntend_api\\app\\src\\views\\SignUp.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\django\\ecommerce_fronntend_api\\app\\src\\views\\SignUp.vue","mtime":1615015739000},{"path":"E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690693963210},{"path":"E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1690693964507},{"path":"E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690693963210},{"path":"E:\\django\\ecommerce_fronntend_api\\app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1690693964390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lnblVwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lID09PSAnJykgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSB1c2VybmFtZSBpcyBtaXNzaW5nJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSAnJykgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSBwYXNzd29yZCBpcyB0b28gc2hvcnQnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBhc3N3b3JkcyBkb2VzblwndCBtYXRjaCcpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvdXNlcnMvIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdBY2NvdW50IGNyZWF0ZWQsIHBsZWFzZSBsb2cgaW4hJywKICAgICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2ctaW4nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbicpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["E:\\django\\ecommerce_fronntend_api\\app\\src\\views\\SignUp.vue"],"names":[],"mappings":";AAgDA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,QADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,QAAQ,EAAE,EAFP;AAGH,MAAA,SAAS,EAAE,EAHR;AAIH,MAAA,MAAM,EAAE;AAJL,KAAP;AAMH,GATU;AAUX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,wBACQ;AAAA;;AACT,WAAK,MAAL,GAAc,EAAd;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACtB,aAAK,MAAL,CAAY,IAAZ,CAAiB,yBAAjB;AACJ;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACtB,aAAK,MAAL,CAAY,IAAZ,CAAiB,2BAAjB;AACJ;;AAEA,UAAI,KAAK,QAAL,KAAkB,KAAK,SAA3B,EAAsC;AAClC,aAAK,MAAL,CAAY,IAAZ,CAAiB,8BAAjB;AACJ;;AAEA,UAAI,CAAC,KAAK,MAAL,CAAY,MAAjB,EAAyB;AACrB,YAAM,QAAO,GAAI;AACb,UAAA,QAAQ,EAAE,KAAK,QADF;AAEb,UAAA,QAAQ,EAAE,KAAK;AAFF,SAAjB;AAKA,QAAA,KAAI,CACC,IADL,CACU,gBADV,EAC4B,QAD5B,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AACd,UAAA,KAAK,CAAC;AACF,YAAA,OAAO,EAAE,iCADP;AAEF,YAAA,IAAI,EAAE,YAFJ;AAGF,YAAA,WAAW,EAAE,IAHX;AAIF,YAAA,YAAY,EAAE,IAJZ;AAKF,YAAA,QAAQ,EAAE,IALR;AAMF,YAAA,QAAQ,EAAE;AANR,WAAD,CAAL;;AASA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACH,SAbL,EAcK,KAdL,CAcW,UAAA,KAAI,EAAK;AACZ,cAAI,KAAK,CAAC,QAAV,EAAoB;AAChB,iBAAK,IAAM,QAAX,IAAuB,KAAK,CAAC,QAAN,CAAe,IAAtC,EAA4C;AACxC,cAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,WAAoB,QAApB,eAAiC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,QAApB,CAAjC;AACJ;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAN,CAAe,IAA9B,CAAZ;AACJ,WANA,MAMO,IAAI,KAAK,CAAC,OAAV,EAAmB;AACtB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,wCAAjB;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,CAAZ;AACJ;AACH,SA1BL;AA2BJ;AACJ;AAlDK;AAVE,CAAf","sourcesContent":["<template>\n    <div class=\"page-sign-up\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Sign up</h1>\n\n                <form @submit.prevent=\"submitForm\">\n                    <div class=\"field\">\n                        <label>Username</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"username\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Repeat password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password2\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark\">Sign up</button>\n                        </div>\n                    </div>\n\n                    <hr>\n\n                    Or <router-link to=\"/log-in\">click here</router-link> to log in!\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nexport default {\n    name: 'SignUp',\n    data() {\n        return {\n            username: '',\n            password: '',\n            password2: '',\n            errors: []\n        }\n    },\n    methods: {\n        submitForm() {\n            this.errors = []\n\n            if (this.username === '') {\n                this.errors.push('The username is missing')\n            }\n\n            if (this.password === '') {\n                this.errors.push('The password is too short')\n            }\n\n            if (this.password !== this.password2) {\n                this.errors.push('The passwords doesn\\'t match')\n            }\n\n            if (!this.errors.length) {\n                const formData = {\n                    username: this.username,\n                    password: this.password\n                }\n\n                axios\n                    .post(\"/api/v1/users/\", formData)\n                    .then(response => {\n                        toast({\n                            message: 'Account created, please log in!',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                        })\n\n                        this.$router.push('/log-in')\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n            }\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}